version: "2.0"
stories:
- story: story_full_flow_with_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Mumbai
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: mumbai
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '299'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: sendamailtokarthik@gmail.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_bye
  - action: action_restart

- story: story_full_flow_with_email_higher_budget
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: delhi
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: delhi
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Mexican
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '701'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: sendamailtokarthik@gmail.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_bye
  - action: action_restart
  
- story: story_full_flow_with_email_mid_budget
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Bangalore
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: bengaluru
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: South Indian
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '700'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: sendamailtokarthik@gmail.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_bye
  - action: action_restart

- story: story_full_flow_no_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Mumbai
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: mumbai
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '299'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - action: utter_ask_details
  - intent: deny
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy
  - action: utter_bye
  - action: action_restart
- story: interactive_story_1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: bengaluru
  - slot_was_set:
    - location: bengaluru
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
  - slot_was_set:
    - location: bengaluru
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: chinese
  - slot_was_set:
    - cuisine: chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '700'
    - budget: '700'
  - slot_was_set:
    - budget: '700'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - action: utter_ask_details
  - intent: ask_email
    entities:
    - email: sendamailtokarthik@gmail.com
  - slot_was_set:
    - email: sendamailtokarthik@gmail.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_bye
  - action: action_restart

- story: interactive_story_1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: goodbye
  - action: utter_bye
  - action: action_restart

- story: interactive_story_2
  steps:
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: hubli
  - slot_was_set:
    - location: hubli
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
  - slot_was_set:
    - location: hubli
  - action: utter_search_invalid
  - action: utter_ask_location_retry
  - intent: deny
  - action: utter_bye
  - action: action_restart
