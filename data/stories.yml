version: "2.0"
stories:
- story: story_full_flow_with_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restraunt
    entities:
    - location: Mumbai
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: mumbai
  - action: utter_ask_cuisine
  - intent: ask_restraunt
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '299'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: sendamailtokarthik@gmail.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_bye
  - action: action_restart
- story: story_full_flow_no_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restraunt
    entities:
    - location: Mumbai
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: mumbai
  - action: utter_ask_cuisine
  - intent: ask_restraunt
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '299'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: deny
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy
  - action: utter_bye
  - action: action_restart
- story: story_3
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: Mumbai
    - cuisine: chinese
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: mumbai
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: invalid
    - cuisine: chinese
  - action: utter_cuisine_invalid
  - action: utter_ask_cuisine_retry
  - intent: affirm
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '701'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: abc@abc.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_happy
  - action: utter_bye
  - action: action_restart
- story: story_4
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Bangalore
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
    - location: bangalore
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: deny
  - action: utter_deny
  - action: utter_bye
  - action: action_slot_reset
  - action: action_restart
- story: story_location_out_of_scope
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: out_of_scope
  - action: action_slot_reset
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: affirm
  - action: action_slot_reset
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Bangalore
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: bangalore
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '300'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: abc@abc.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_bye
  - action: action_restart
- story: story_6
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: out_of_scope
  - action: action_slot_reset
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: deny
  - action: utter_deny
  - action: utter_bye
  - action: action_restart
- story: story_7
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: agra
    - cuisine: italian
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: agra
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: valid
    - cuisine: italian
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '300'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: deny
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy
  - action: utter_bye
  - action: action_restart
- story: story_location_cuisine_invalid_retry_no_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: agra
    - cuisine: italian
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: agra
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: invalid
    - cuisine: italian
  - action: utter_cuisine_invalid
  - action: utter_ask_cuisine_retry
  - intent: affirm
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '300'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: deny
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy
  - action: utter_bye
  - action: action_restart
- story: story_retry_deny
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: agra
    - cuisine: italian
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: agra
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: invalid
    - cuisine: italian
  - action: utter_cuisine_invalid
  - action: utter_ask_cuisine_retry
  - intent: deny
  - action: utter_deny
  - action: utter_bye
  - action: action_slot_reset
- story: story_greet_cuisine_valid_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - cuisine: south indian
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: valid
    - cuisine: south indian
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Patna
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: agra
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '300'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: abc@abc.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_bye
  - action: action_restart
- story: story_greet_cuisine_valid_location_invalid_retry_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - cuisine: north indian
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: valid
    - cuisine: north indian
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Patna
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
    - location: Patna
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: affirm
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Bangalore
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: bangalore
  - intent: ask_budget
    entities:
    - budget: '300'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: abc@abc.com
  - action: action_send_email
  - action: utter_confirm_email
  - intent: thank
  - action: utter_bye
  - action: action_restart
- story: story_greet_cuisine_and_location_invalid_retry_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: patna
    - cuisine: french
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
    - location: patna
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: affirm
  - action: action_slot_reset
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Delhi
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: delhi
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: french
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '300'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: abc@abc.com
  - action: action_send_email
  - action: utter_confirm_email
  - action: utter_bye
  - action: action_restart
- story: story__location_invalid
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Bangalore
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
    - location: bangalore
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: affirm
  - action: utter_ask_location
  - action: action_slot_reset
  - intent: ask_restaurant
    entities:
    - location: Bangalore
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: bangalore
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '299'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: invalid
  - slot_was_set:
    - email_message: ''
  - action: utter_search_invalid
  - action: utter_bye
  - action: action_restart
- story: story_rest_valid_search_invalid
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: Mumbai
    - cuisine: chinese
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: mumbai
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: valid
    - cuisine: chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '701'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: invalid
  - slot_was_set:
    - email_message: ''
  - action: utter_search_invalid
  - action: utter_bye
  - action: action_restart
- story: story_invalid_retry_search_invalid
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: Mumbai
    - cuisine: vietnamese
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: mumbai
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: invalid
    - cuisine: vietnamese
  - action: utter_cuisine_invalid
  - action: utter_ask_cuisine_retry
  - intent: affirm
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '701'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: invalid
  - slot_was_set:
    - email_message: ''
  - action: utter_search_invalid
  - action: utter_bye
  - action: action_restart
- story: story_location_cuisine_valid_no_email
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Bangalore
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: bangalore
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: Chinese
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '299'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: deny
  - action: utter_did_that_help
  - intent: deny
  - action: utter_deny
  - action: utter_bye
  - action: action_restart
- story: story_location_invalid_retry
  steps:
  - intent: ask_restaurant
    entities:
    - location: Kolkata
    - cuisine: mexican
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
    - location: kolkata
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: deny
  - action: utter_deny
  - action: utter_bye
  - action: action_restart
- story: story_cuisine_invalid_retry
  steps:
  - intent: ask_restaurant
    entities:
    - location: Kolkata
    - cuisine: mexican
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: kolkata
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: invalid
    - cuisine: mexican
  - action: utter_cuisine_invalid
  - action: utter_ask_cuisine_retry
  - intent: deny
  - action: utter_deny
  - action: utter_bye
  - action: action_restart
- story: story_greet_n_die
  steps:
  - intent: greet
  - action: utter_greet
  - intent: bye
  - action: utter_bye
  - action: action_restart
- story: story_ask_rest
  steps:
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: bye
  - action: utter_bye
  - action: action_restart
- story: story_greet_out_of_scope
  steps:
  - intent: greet
  - action: utter_greet
  - intent: out_of_scope
  - action: utter_out_of_scope
  - action: utter_bye
  - action: action_restart
- story: storyno_greet_location_retry_out_of_scope
  steps:
  - intent: ask_restaurant
  - action: utter_ask_location
  - intent: out_of_scope
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: out_of_scope
  - action: utter_bye
  - action: action_restart
- story: story_no_greet_location_invalid_out_of_scope
  steps:
  - intent: ask_restaurant
    entities:
    - location: delhi
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
    - location: delhi
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: out_of_scope
  - action: utter_bye
  - action: action_restart
- story: story_location_invalid_retry_email_out_of_scope
  steps:
  - intent: ask_restaurant
    entities:
    - location: Kolkata
    - cuisine: mexican
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
    - location: kolkata
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: affirm
  - action: utter_ask_location
  - intent: ask_restaurant
    entities:
    - location: Bangalore
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: bangalore
  - action: utter_ask_cuisine
  - intent: ask_restaurant
    entities:
    - cuisine: mexican
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '300'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: out_of_scope
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: abc@abc.com
  - action: action_send_email
  - action: utter_confirm_email
  - action: utter_bye
  - action: action_restart
- story: interactive story 1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_restaurant
    entities:
    - location: agra
    - cuisine: italian
  - action: action_cuisine_valid
  - slot_was_set:
    - cuisine_validity: valid
    - cuisine: italian
  - action: action_location_valid
  - slot_was_set:
    - location_validity: invalid
    - location: agra
  - action: utter_location_invalid
  - action: utter_ask_location_retry
  - intent: ask_restaurant
    entities:
    - location: agra
  - action: action_location_valid
  - slot_was_set:
    - location_validity: valid
    - location: agra
  - action: utter_ask_budget
  - intent: ask_budget
    entities:
    - budget: '300'
  - action: action_restaurant
  - slot_was_set:
    - search_validity: valid
  - slot_was_set:
    - email_message: ''
  - action: utter_ask_details
  - intent: affirm
  - action: utter_ask_email
  - intent: ask_email
    entities:
    - email: abc@abc.com
  - action: action_send_email
  - action: utter_confirm_email
  - action: utter_bye
  - action: action_restart
